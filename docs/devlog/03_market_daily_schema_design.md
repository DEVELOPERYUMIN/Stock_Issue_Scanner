## 📊 market_daily 테이블 설계 이유

### 역할 요약

`market_daily`는 이 프로젝트에서  
**“종목 × 날짜 단위의 거래 사실 저장소”** 역할을 한다.

이 테이블은 다음 로직의 출발점이다.

- 거래량 스파이크 감지
- 거래대금 50억 필터
- VOL_RATIO 계산
- Group A / B 분류의 기준 데이터

---

## 왜 종목 × 날짜 단위인가?

주식 데이터의 본질은 **시간 흐름**이다.

- 같은 종목이라도
  - 어제와 오늘의 거래량은 다르고
  - 의미도 다르다

따라서:

> **[종목(ticker) × 날짜(date)] = 1행**

구조가 가장 자연스럽다.

---

## 핵심 컬럼과 의미

| 컬럼 | 의미 | 필요성 |
|----|----|----|
| date | 거래일 | 기준일 스캔 |
| ticker | 종목코드 | 테마/뉴스와 JOIN |
| volume | 거래량 | 수급 판단 핵심 |
| value | 거래대금 | 50억 필터 |
| open/high/low/close | OHLC | 확장 대비 |
| created_at | 적재 시각 | 데이터 신뢰성 |

---

## 이 테이블이 없으면 안 되는 이유

- 뉴스가 없어도
- **수급이 먼저 들어오는 종목**을 포착하려면
- 거래 데이터가 1순위 기준이 되어야 한다

즉,

> **market_daily는  
> 뉴스보다 먼저 움직이는 시장 신호를 담는 테이블**이다.


## 📈 왜 거래량은 뉴스보다 먼저 움직이는가

### 시장의 현실

실제 시장에서는 자주 이런 일이 발생한다.

- 뉴스는 아직 없음
- 하지만 거래량이 먼저 급증
- 이후 뉴스가 뒤늦게 따라붙음

---

## 이 프로젝트의 핵심 가정

> **수급은 정보보다 먼저 움직일 수 있다.**

이 프로젝트는 이 가정을 구조로 만든다.

---

## 구조적 대응 방식

1. **거래량 스캐너를 1차 필터로 사용**
2. 뉴스는 “확인/설명” 역할로 사용
3. 뉴스가 없어도 거래량 조건을 만족하면
   → **의미 있는 신호로 간주**

---

## 그래서 생긴 Group B

- 뉴스 없음
- 거래량 급증
- 거래대금 충분

이 종목들은:

> “아직 설명되지 않은 수급”  
> → **다음 이슈의 후보군**

으로 해석한다.

---

## 결론

이 시스템은:

- 뉴스를 기다리지 않고
- **시장 참여자의 행동(거래량)을 먼저 읽는 구조**

를 목표로 설계되었다.
